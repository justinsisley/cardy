<!DOCTYPE html>
<html>
  <head>
    <title>cardy</title>
    <link rel="stylesheet" href="styles.css">
    <script src="cardy.js"></script>
  </head>
  <body>
    <header>
      <img alt="cardy" src="https://image.flaticon.com/icons/svg/138/138287.svg" width="144">

      <h1>cardy</h1>
      <h2>A credit card utility belt for browser and Node.js apps</h2>

      <p>
        <a href="https://www.npmjs.com/package/cardy"><img src="https://img.shields.io/npm/v/cardy.svg?style=flat"></a>

        <a href="https://github.com/justinsisley/cardy/blob/master/license"><img src="https://img.shields.io/badge/license-MIT-blue.svg?style=flat"></a>

        <br>

        <a href="https://travis-ci.org/justinsisley/cardy"><img src="https://travis-ci.org/justinsisley/cardy.svg?branch=master&style=flat"></a>

        <a href="https://www.npmjs.com/package/cardy"><img src="https://img.shields.io/npm/dm/cardy.svg?style=flat"></a>

        <br>

        <a href="https://david-dm.org/justinsisley/cardy"><img src="https://david-dm.org/justinsisley/cardy/status.svg?style=flat"></a>

        <a href="https://david-dm.org/justinsisley/cardy?type=dev"><img src="https://david-dm.org/justinsisley/cardy/dev-status.svg?style=flat"></a>
      </p>
    </header>

    <form>
      <h3>Input Masking</h3>

      <fieldset>
        <label for="">Credit Card Number</label>
        <input type="text" placeholder="1234 5678 9123 4567" id="number-mask">
      </fieldset>

      <fieldset>
        <label for="">Credit Card Expiration</label>
        <input type="text" placeholder="mm/yyyy" id="expiration-mask">
      </fieldset>

      <fieldset>
        <label for="">Credit Card Security Code</label>
        <input type="text" placeholder="CVV" id="security-code-mask">
      </fieldset>
    </form>

    <form>
      <h3>Validation</h3>

      <fieldset>
        <label for="">Credit Card Number</label>
        <input type="text" placeholder="1234 5678 9123 4567" id="validation-number">
        <button id="validate-number-button">Validate</button>
        <pre><code id="validate-number-result">{}</code></pre>
      </fieldset>

      <fieldset>
        <label for="">Credit Card Expiration</label>
        <input type="text" placeholder="mm/yyyy" id="validation-expiration">
        <button id="validate-expiration-button">Validate</button>
        <pre><code id="validate-expiration-result">{}</code></pre>
      </fieldset>
    </form>

    <form>
      <h3>Formatting</h3>

      <fieldset>
        <label for="">Credit Card Number</label>
        <input type="text" placeholder="1234 5678 9123 4567" id="formatting-number">
        <button id="format-number-button">Format</button>
        <pre><code id="format-number-result">...</code></pre>
      </fieldset>

      <fieldset>
        <label for="">Credit Card Expiration</label>
        <input type="text" placeholder="mm/yyyy" id="formatting-expiration">
        <button id="format-expiration-button">Format</button>
        <pre><code id="format-expiration-result">...</code></pre>
      </fieldset>
    </form>

    <footer>
      Built with <a href="https://github.com/braintree/card-validator">card-validator</a>.
      <br>
      Icon by <a href="http://www.flaticon.com/">Flaticon</a>.
    </footer>

    <script>
    // Number masking
    document.querySelector('#number-mask').addEventListener('input', (e) => {
      e.target.value = cardy.number.mask(e.target.value);
    });

    // Expiration masking
    document.querySelector('#expiration-mask').addEventListener('input', (e) => {
      e.target.value = cardy.expiration.mask(e.target.value);
    });

    // Security code masking
    document.querySelector('#security-code-mask').addEventListener('input', (e) => {
      e.target.value = cardy.code.mask(e.target.value);
    });

    // Number validation
    document.querySelector('#validate-number-button').addEventListener('click', (e) => {
      e.preventDefault();

      const value = document.querySelector('#validation-number').value;
      const result = cardy.number.validate(value);
      const stringified = JSON.stringify(result, null, 2);

      document.querySelector('#validate-number-result').textContent = stringified;
    });

    // Expiration validation
    document.querySelector('#validate-expiration-button').addEventListener('click', (e) => {
      e.preventDefault();

      const value = document.querySelector('#validation-expiration').value;
      const result = cardy.expiration.validate(value);
      const stringified = JSON.stringify(result, null, 2);

      document.querySelector('#validate-expiration-result').textContent = stringified;
    });

    // Number formatting
    document.querySelector('#format-number-button').addEventListener('click', (e) => {
      e.preventDefault();

      const value = document.querySelector('#formatting-number').value;
      const result = cardy.number.format(value);
      const stringified = JSON.stringify(result);

      document.querySelector('#format-number-result').textContent = stringified;
    });

    // Expiration formatting
    document.querySelector('#format-expiration-button').addEventListener('click', (e) => {
      e.preventDefault();

      const value = document.querySelector('#formatting-expiration').value;
      const result = cardy.expiration.format(value);
      const stringified = JSON.stringify(result);

      document.querySelector('#format-expiration-result').textContent = stringified;
    });
    </script>
  </body>
</html>